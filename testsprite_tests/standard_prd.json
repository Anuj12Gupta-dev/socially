{
  "meta": {
    "project": "Next.js 15 Social Media App",
    "date": "2025-12-05",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "Next.js 15 Social Media App is a modern social networking platform built with the latest web technologies that enable users to authentically connect, share content, message in real-time, and stay engaged through notifications and personalized feeds.",
  "core_goals": [
    "Provide a seamless and secure authentication experience with traditional and OAuth options.",
    "Enable users to create, edit, and share rich posts with media attachments.",
    "Deliver personalized and infinite scrolling social feeds including content from followed users and recommended posts.",
    "Support real-time direct messaging with online presence indicators.",
    "Offer comprehensive user profiles with editable information and follower management.",
    "Implement robust search functionality for users and posts.",
    "Allow users to bookmark posts for later viewing.",
    "Provide real-time notifications for social interactions like likes, comments, and follows.",
    "Optimize the application performance using server-side rendering, client-side caching, and image optimization.",
    "Ensure high developer productivity and code quality using TypeScript, ESLint, Prettier, and a modular architecture."
  ],
  "key_features": [
    "Authentication system with username/password and Google OAuth integration leveraging Lucia Auth and Arctic.",
    "Social feed with infinite scrolling, optimistic UI updates for likes, comments, and bookmarks.",
    "Post creation supporting text and media uploads with image cropping and resizing using UploadThing.",
    "Real-time messaging powered by Stream Chat including message history and online presence indicators.",
    "User profile management with avatar uploads, editable fields, and follower-following relationships.",
    "Search functionality for posts and users with API-backed results.",
    "Bookmarking posts to save and organize content.",
    "Real-time notification system with unread counts across likes, comments, and follows.",
    "Technical features including server-side rendering, React Query caching, code splitting, and modular folder structure for maintainability."
  ],
  "user_flow_summary": [
    "User visits the login page and authenticates via username/password or Google OAuth, establishing a secure session.",
    "Authenticated users access an infinite scrolling social feed showing posts from followed users and recommended content.",
    "Users create posts by entering text and uploading media which is processed and attached to the post upon submission.",
    "User can view, edit profile details, upload avatars, and manage follower and following lists.",
    "Users exchange real-time messages with others, seeing online statuses and message histories.",
    "Users can search for content or users using the search interface and view paginated search results.",
    "Users bookmark posts from feeds or profiles to view later in a dedicated bookmarks area.",
    "The notification center displays real-time updates about social interactions, with unread counts and actionable items."
  ],
  "validation_criteria": [
    "Successful user authentication and session management including OAuth flows.",
    "Posts can be created, updated, and displayed correctly including media handling.",
    "Social feed populates posts correctly with smooth infinite scrolling and real-time interaction feedback.",
    "Real-time messaging works with accurate presence indicators and message delivery.",
    "User profiles load and edit correctly, reflecting follower and following counts.",
    "Search returns relevant and paginated results for both posts and users.",
    "Bookmarking functionality saves and retrieves user bookmarks without errors.",
    "Notifications trigger in real-time with correct unread counts and category filters.",
    "Performance targets met for server-side rendering, caching, and client responsiveness.",
    "Code quality standards maintained with TypeScript typing, linting, and modular architecture."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 16",
      "React 19",
      "Tailwind CSS",
      "Prisma",
      "PostgreSQL",
      "Stream Chat",
      "UploadThing"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User authentication with username/password and Google OAuth",
        "files": [
          "src/auth.ts",
          "src/app/(auth)/login/page.tsx",
          "src/app/(auth)/login/LoginForm.tsx",
          "src/app/(auth)/login/actions.ts",
          "src/app/(auth)/login/google/GoogleSignInButton.tsx",
          "src/app/(auth)/login/google/route.ts",
          "src/app/api/auth/callback/google/route.ts"
        ]
      },
      {
        "name": "Post Creation",
        "description": "Create and share posts with text and media attachments",
        "files": [
          "src/components/posts/editor/PostEditor.tsx",
          "src/components/posts/editor/useMediaUpload.ts",
          "src/components/posts/editor/actions.ts",
          "src/components/posts/editor/mutations.ts"
        ]
      },
      {
        "name": "Social Feed",
        "description": "View posts from followed users and recommended content",
        "files": [
          "src/app/(main)/page.tsx",
          "src/app/(main)/FollowingFeed.tsx",
          "src/app/(main)/ForYouFeed.tsx",
          "src/components/posts/Post.tsx",
          "src/components/posts/LikeButton.tsx",
          "src/components/posts/BookmarkButton.tsx"
        ]
      },
      {
        "name": "Messaging",
        "description": "Real-time messaging with other users",
        "files": [
          "src/app/(main)/messages/page.tsx",
          "src/app/(main)/messages/Chat.tsx",
          "src/app/(main)/messages/ChatChannel.tsx",
          "src/app/(main)/messages/ChatSidebar.tsx",
          "src/app/(main)/messages/NewChatDialog.tsx",
          "src/app/(main)/messages/useInitializeChatClient.ts"
        ]
      },
      {
        "name": "Notifications",
        "description": "Receive notifications for likes, comments, and follows",
        "files": [
          "src/app/(main)/notifications/page.tsx",
          "src/app/(main)/notifications/Notification.tsx",
          "src/app/(main)/notifications/Notifications.tsx",
          "src/app/(main)/NotificationsButton.tsx",
          "src/app/api/notifications/route.ts",
          "src/app/api/notifications/unread-count/route.ts"
        ]
      },
      {
        "name": "User Profiles",
        "description": "View and edit user profiles",
        "files": [
          "src/app/(main)/users/[username]/page.tsx",
          "src/app/(main)/users/[username]/EditProfileButton.tsx",
          "src/app/(main)/users/[username]/EditProfileDialog.tsx",
          "src/app/(main)/users/[username]/UserPosts.tsx",
          "src/components/FollowButton.tsx",
          "src/components/FollowerCount.tsx"
        ]
      },
      {
        "name": "Search",
        "description": "Search for posts and users",
        "files": [
          "src/app/(main)/search/page.tsx",
          "src/app/(main)/search/SearchResults.tsx",
          "src/components/SearchField.tsx",
          "src/app/api/search/route.ts"
        ]
      },
      {
        "name": "Bookmarks",
        "description": "Save and view bookmarked posts",
        "files": [
          "src/app/(main)/bookmarks/page.tsx",
          "src/app/(main)/bookmarks/Bookmarks.tsx",
          "src/components/posts/BookmarkButton.tsx",
          "src/app/api/posts/bookmarked/route.ts"
        ]
      }
    ]
  }
}
